/*
 * generated by Xtext 2.10.0
 */
package variable.cs.tests

import com.google.inject.Inject
import org.eclipse.xtext.junit4.InjectWith
import org.eclipse.xtext.junit4.XtextRunner
import org.eclipse.xtext.junit4.util.ParseHelper
import org.junit.Assert
import org.junit.Test
import org.junit.runner.RunWith
import variable.rev.VariableEvalRev
import varlang.varlang.exprconcern.Variable

@RunWith(XtextRunner)
@InjectWith(VarLangInjectorProvider)
class VarLangParsingTest {

	@Inject
	ParseHelper<Variable> parseHelper

	@Test
	def void loadModel() {
		val result = parseHelper.parse('''
			a
		''')
		Assert.assertNotNull(result)

		val rev = new VariableEvalRev() {
		}
		val op = rev.$(result)
		val ctx = newHashMap("a" -> 1L)
		val res = op.eval(ctx)
		Assert.assertEquals(1, res)
	}

}
