package abc.k3

import abc.model.A
import model.ModelFactory

class Main {
	def static void main(String[] args) {
		val a = new A() => [
			val b1 = ModelFactory::eINSTANCE.createB() => [
				val c1 = ModelFactory::eINSTANCE.createC()
				val c2 = ModelFactory::eINSTANCE.createC()
				cs.addAll(c1, c2)
			]
			val b2 = ModelFactory::eINSTANCE.createB() => [
				val c1 = ModelFactory::eINSTANCE.createC()
				val c2 = ModelFactory::eINSTANCE.createC()
				cs.addAll(c1, c2)
			]
			val b3 = ModelFactory::eINSTANCE.createB() => [
				val c1 = ModelFactory::eINSTANCE.createC()
				val c2 = ModelFactory::eINSTANCE.createC()
				cs.addAll(c1, c2)
			]
			bs.addAll(b1, b2, b3)
		]

		a.assign

		println('''
			«FOR b : a.bs»
				«b.cptr»
				«b.assign»
					«FOR c: b.cs»
					«c.name»
					«ENDFOR»
			«ENDFOR»
		''')
	}
}
